{"version":3,"file":"static/js/206.cd9cfd2a.chunk.js","mappings":"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","sources":["components/IsSureModal/IsSureModal.tsx","pages/EmployeeDetails/EmployeeDetails.tsx"],"sourcesContent":["import { FC } from \"react\";\r\nimport Modal from \"react-modal\";\r\nimport \"./IsSureModal.scss\";\r\n\r\nModal.setAppElement(\"#modal\");\r\n\r\ninterface IModalProps {\r\n  isOpen: boolean;\r\n  onCancel: () => void;\r\n  onConfirm: () => void;\r\n}\r\n\r\nconst IsSureModal: FC<IModalProps> = ({ isOpen, onCancel, onConfirm }) => {\r\n  return (\r\n    <Modal className=\"modal\" overlayClassName=\"modal__overlay\" isOpen={isOpen}>\r\n      <div className=\"modal-content\">\r\n        <h2 className=\"modal__info\">confirm deletion</h2>\r\n        <button className=\"modal__btn\" onClick={onCancel}>no no no!!</button>\r\n        <button className=\"modal__btn\" onClick={onConfirm}>delete</button>\r\n      </div>\r\n    </Modal>\r\n  );\r\n};\r\n\r\nexport default IsSureModal;\r\n","import { Link, useLocation, useNavigate, useParams } from \"react-router-dom\";\r\nimport { useEffect, useState } from \"react\";\r\nimport { observer } from \"mobx-react-lite\";\r\nimport { EmployeeType } from \"../../utils/types/employee\";\r\nimport {\r\n  deleteEmployeeById,\r\n  getEmployeeById,\r\n} from \"../../utils/services/companyAPI\";\r\nimport Loader from \"../../components/Loader/Loader\";\r\nimport company from \"../../utils/stores/company\";\r\nimport IsSureModal from \"../../components/IsSureModal/IsSureModal\";\r\nimport \"./EmployeeDetails.scss\";\r\n\r\nconst EmployeeDetails: React.FC = observer(() => {\r\n  const [isModalOpen, setIsModalOpen] = useState(false);\r\n  const navigate = useNavigate();\r\n  const [employeeInfo, setEmployeeInfo] = useState<EmployeeType | undefined>(\r\n    undefined\r\n  );\r\n  const location = useLocation();\r\n  const { employeeId } = useParams();\r\n\r\n  const handleDeleteEmployee = () => {\r\n    setIsModalOpen(true);\r\n  };\r\n\r\n  const handleCancel = () => {\r\n    setIsModalOpen(false);\r\n  };\r\n\r\n  const handleConfirmDelete = () => {\r\n    (async (employeeId: number) => {\r\n      try {\r\n        company.setIsLoading(true);\r\n        const response = await deleteEmployeeById(employeeId);\r\n        console.log(response);\r\n      } catch (error: any) {\r\n        company.setError(error.message);\r\n      } finally {\r\n        company.setIsLoading(false);\r\n        navigate(\"/\");\r\n      }\r\n    })(Number(employeeId));\r\n\r\n    setIsModalOpen(false);\r\n  };\r\n\r\n  const getEmployeeInfo = async (employeeId: number) => {\r\n    try {\r\n      company.setIsLoading(true);\r\n      const receivedEmployeeInfo: EmployeeType | undefined =\r\n        await getEmployeeById(employeeId);\r\n      setEmployeeInfo(receivedEmployeeInfo);\r\n    } catch (error: any) {\r\n      company.setError(error.message);\r\n    } finally {\r\n      company.setIsLoading(false);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    getEmployeeInfo(Number(employeeId));\r\n  }, [employeeId]);\r\n\r\n  return (\r\n    <>\r\n      <Link className=\"employee__go-back\" to={location?.state?.from ?? \"/\"}>\r\n        GO BACK\r\n      </Link>\r\n      {company.isLoading && <Loader />}\r\n      <div className=\"employee\">\r\n        <h2 className=\"employee__fullname\">\r\n          {employeeInfo?.firstName + \" \" + employeeInfo?.lastName ||\r\n            \"not known\"}\r\n        </h2>\r\n        <p className=\"employee__email\">{employeeInfo?.email || \"not known\"} </p>\r\n        <p className=\"employee__position\">\r\n          {employeeInfo?.position || \"not known\"}\r\n        </p>\r\n        <p className=\"employee__projects\">\r\n          {employeeInfo?.project?.name || \"not yet assigned\"}\r\n        </p>\r\n      </div>\r\n      <Link className=\"employee__update\" to={\"updateemp\"}>\r\n        UPDATE\r\n      </Link>\r\n      <button\r\n        className=\"employee__delete\"\r\n        type=\"submit\"\r\n        onClick={handleDeleteEmployee}\r\n      >\r\n        DELETE\r\n      </button>\r\n\r\n      <IsSureModal\r\n        isOpen={isModalOpen}\r\n        onCancel={handleCancel}\r\n        onConfirm={handleConfirmDelete}\r\n      />\r\n    </>\r\n  );\r\n});\r\n\r\nexport default EmployeeDetails;\r\n"],"names":["Modal","_ref","isOpen","onCancel","onConfirm","_jsx","className","overlayClassName","children","_jsxs","onClick","EmployeeDetails","observer","_location$state$from","_location$state","_employeeInfo$project","_useState","useState","_useState2","_slicedToArray","isModalOpen","setIsModalOpen","navigate","useNavigate","_useState3","undefined","_useState4","employeeInfo","setEmployeeInfo","location","useLocation","employeeId","useParams","getEmployeeInfo","_ref2","_asyncToGenerator","_regeneratorRuntime","mark","_callee2","receivedEmployeeInfo","wrap","_context2","prev","next","company","getEmployeeById","sent","t0","message","finish","stop","_x2","apply","arguments","useEffect","Number","_Fragment","Link","to","state","from","Loader","firstName","lastName","email","position","project","name","type","IsSureModal","_callee","response","_context","deleteEmployeeById","console","log","_x"],"sourceRoot":""}